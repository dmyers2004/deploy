{
	"test": [
		"% test 1.",
		"#sudo on",
		"echo 'hello world!'",
		"#set 'foo bar' 123",
		"*test2"
	],
	"test2": [
		"% test 2.",
		"#sudo off",
		"echo 'hello world from test 2!'"
	],
	"relink": [
		"% Create Symbolic links between package folders and public folders.",
		"#sudo on",
		"rm -f {erootpath}/public/theme/orange",
		"rm -f {erootpath}/public/assets/backorder",
		"rm -f {erootpath}/public/assets/stock-status-check",
    "ln -s {erootpath}/packages/projectorangebox/theme-orange/public/theme/orange {erootpath}/public/theme/orange",
    "ln -s {erootpath}/packages/cashmoney/backorder/public/assets/backorder {erootpath}/public/assets/backorder",
    "ln -s {erootpath}/packages/cashmoney/stock-status-check/public/assets/stock-status-check {erootpath}/public/assets/stock-status-check"
  ],
	"copy public": [
		"% Copy complete folders between package folders and public folders.",
		"#sudo on",
    "cp -R {erootpath}/packages/projectorangebox/theme-orange/public/theme/orange {erootpath}/public/theme/orange",
    "cp -R {erootpath}/packages/cashmoney/backorder/public/assets/backorder {erootpath}/public/assets/backorder",
    "cp -R {erootpath}/packages/cashmoney/stock-status-check/public/assets/stock-status-check {erootpath}/public/assets/stock-status-check"
  ],
  "clear sessions": [
		"% delete all files in the session folder.",
		"#sudo on",
    "rm -f {erootpath}/var/sessions/*"
  ],
  "clear caches": [
		"% delete all files in the cache, uploads, downloads folders.",
		"#sudo on",
    "rm -fdr {erootpath}/var/cache/*",
    "rm -fdr {erootpath}/var/uploads/*",
    "rm -fdr {erootpath}/var/downloads/*"
  ],
	"add access": [
		"% Auto add the permissions to the orange permissions db table.",
		"#sudo on",
		"cd {erootpath}/public;php index.php cli/auto_add_permissions"
	],
  "repair": [
		"% Repair folder permissions.",
		"#sudo on",
    "mkdir -p {erootpath}/bin",
    "mkdir -p {erootpath}/support",
    "mkdir -p {erootpath}/support/migrations",
    "mkdir -p {erootpath}/support/backups",
    "mkdir -p {erootpath}/public/assets",
    "mkdir -p {erootpath}/public/theme",
    "mkdir -p {erootpath}/var",
    "mkdir -p {erootpath}/var/cache",
    "mkdir -p {erootpath}/var/uploads",
    "mkdir -p {erootpath}/var/downloads",
    "mkdir -p {erootpath}/var/emails",
    "mkdir -p {erootpath}/var/logs",
    "mkdir -p {erootpath}/var/sessions",
    "find {erootpath} -type f -print0 | sudo xargs -0 chmod 664",
    "find {erootpath} -type d -print0 | sudo xargs -0 chmod 775",
    "chmod -Rf 777 {erootpath}/var",
    "chmod -Rf 777 {erootpath}/var/cache/*",
    "chmod -Rf 777 {erootpath}/var/uploads/*",
    "chmod -Rf 777 {erootpath}/var/downloads/*",
    "chmod -Rf 777 {erootpath}/var/emails/*",
    "chmod -Rf 777 {erootpath}/var/logs/*",
    "chmod -Rf 777 {erootpath}/var/sessions/*",
    "chmod -Rf 777 {erootpath}/bin/*",
    "chmod -Rf 777 {erootpath}/support/backups"
  ],
	"git update": [
		"% Fetch and Reset all git Modules.",
		"#sudo on",
		"#git_update {erootpath}",
		"#git_update {erootpath}/packages/projectorangebox/cache-viewer {}",
		"#git_update {erootpath}/packages/projectorangebox/config-viewer",
		"#git_update {erootpath}/packages/projectorangebox/extra-validations",
		"#git_update {erootpath}/packages/projectorangebox/forgot",
		"#git_update {erootpath}/packages/projectorangebox/general_addons",
		"#git_update {erootpath}/packages/projectorangebox/handlebars",
		"#git_update {erootpath}/packages/projectorangebox/librarian",
		"#git_update {erootpath}/packages/projectorangebox/login-success",
		"#git_update {erootpath}/packages/projectorangebox/migrations",
		"#git_update {erootpath}/packages/projectorangebox/opcache",
		"#git_update {erootpath}/packages/projectorangebox/orange",
		"#git_update {erootpath}/packages/projectorangebox/register",
		"#git_update {erootpath}/packages/projectorangebox/remember",
		"#git_update {erootpath}/packages/projectorangebox/tasks",
		"#git_update {erootpath}/packages/projectorangebox/theme-orange",
		"#git_update {erootpath}/packages/projectorangebox/tooltips",
		"#git_update {erootpath}/packages/cashmoney/backorder",
		"#git_update {erootpath}/packages/cashmoney/drop-ships",
		"#git_update {erootpath}/packages/cashmoney/stock-status-check"
	],
	"git basic update": [
		"% Fetch and Reset the basic git Modules.",
		"#sudo on",
		"#git_update {erootpath}",
		"#git_update {erootpath}/packages/projectorangebox/orange",
		"#git_update {erootpath}/packages/projectorangebox/theme-orange",
		"#git_update {erootpath}/packages/cashmoney/backorder",
		"#git_update {erootpath}/packages/cashmoney/drop-ships"
	],
	"git status": [
		"% Show the GIT branches of the projects git folders.",
		"#sudo on",
		"#git_status {erootpath}"
	],
	"git find": [
		"% Show the GIT folders in the project.",
		"#sudo on",
		"#show_git_repros {erootpath}"
	],
	"complete database backup": [
		"% Backup the entire database.",
		"#sudo on",
		"mkdir -p {erootpath}/support/backups",
		"chmod -f 777 {erootpath}/support/backups",
		"mysqldump --extended-insert=FALSE --add-drop-table --add-drop-trigger --create-options --password={dbbackuppassword} --events --routines --single-transaction --triggers --user={dbbackupuser} --databases {dbbackupdatabase} | gzip -9 > {erootpath}/support/backups/{filename_date}.{dbbackupdatabase}.sql.gz"
	],
	"backup database data": [
		"% Backup only the database data.",
		"#sudo on",
		"mkdir -p {erootpath}/support/backups",
		"chmod -f 777 {erootpath}/support/backups",
		"mysqldump --extended-insert=FALSE --add-drop-table --password={dbbackuppassword} --user={dbbackupuser} --databases {dbbackupdatabase} | gzip -9 > {erootpath}/support/backups/{filename_date}.data.{dbbackupdatabase}.sql.gz"
	],
	"migrate": [
		"% Run migration Up.",
		"#sudo on",
		"cd {erootpath}/public;php index.php cli/migrate/latest"
	],
	"site up": [
		"% Site Up.",
		"#sudo on",
		"chmod -f 777 {erootpath}/public",
		"rm {erootpath}/public/index.html",
		"chmod -f 775 {erootpath}/public"
	],
	"site down": [
		"% Site Down.",
		"#sudo on",
		"chmod -f 777 {erootpath}/public",
		"cp {erootpath}/support/site_down.html {erootpath}/public/index.html",
		"chmod -f 775 {erootpath}/public"
	],
  "complete": [
		"% Run Complete Site Update.",
		"#sudo on",
    "*complete database backup",
    "*site down",
    "*git update",
    "*repair",
    "*clear caches",
    "*clear sessions",
    "*relink",
    "*site up",
    "*git status"
  ],
  "basic": [
		"% Run Basic Site Update.",
		"#sudo on",
    "*backup database data",
    "*git basic update",
    "*repair",
    "*clear caches",
    "*relink",
    "*git status"
  ]
}
